<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solicitação de Orçamento</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        /* Estilos gerais da página */
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        /* Caixa principal do formulário */
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
            width: 400px;
            box-sizing: border-box;
        }

        h1 {
            text-align: center;
            color: #4CAF50;
        }

        /* Estilo dos labels e inputs */
        label {
            font-weight: bold;
            margin-bottom: 5px;
            display: block;
            color: #333;
        }

        input[type="text"], input[type="date"], input[type="email"], textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            box-sizing: border-box;
        }

        /* Estilo do botão */
        button {
            width: 100%;
            padding: 12px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #45a049;
        }

        /* Estilo do textarea */
        textarea {
            resize: vertical;
            height: 100px;
        }

        /* Responsividade para telas menores */
        @media (max-width: 500px) {
            .container {
                width: 100%;
                padding: 20px;
            }

            h1 {
                font-size: 22px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Solicitação de Orçamento</h1>

        <form id="orcamentoForm">
            <!-- Nome da Empresa -->
            <label for="empresa">Nome da Empresa:</label>
            <input type="text" id="empresa" name="empresa" required placeholder="Digite o nome da empresa"><br>

            <!-- E-mail -->
            <label for="email">E-mail para Contato:</label>
            <input type="email" id="email" name="email" required placeholder="Digite o e-mail"><br>

            <!-- Data Atual -->
            <label for="data_atual">Data Atual:</label>
            <input type="date" id="data_atual" name="data_atual" value="" readonly><br>

            <!-- Prazo para Resposta -->
            <label for="prazo_resposta">Prazo para Resposta do Orçamento:</label>
            <input type="text" id="prazo_resposta" name="prazo_resposta" value="3 dias úteis" readonly><br>

            <!-- Descrição do Orçamento -->
            <label for="descricao">O que você precisa no orçamento:</label><br>
            <textarea id="descricao" name="descricao" rows="4" required placeholder="Descreva o que precisa no orçamento"></textarea><br>

            <button type="button" onclick="gerarPDF()">Gerar Orçamento em PDF</button>
        </form>
    </div>

    <script>
        // Preenche a data atual no formulário
        document.getElementById("data_atual").valueAsDate = new Date();

        function gerarPDF() {
            // Obtém os valores do formulário
            const empresa = document.getElementById("empresa").value;
            const email = document.getElementById("email").value;
            const dataAtual = document.getElementById("data_atual").value;
            const prazoResposta = document.getElementById("prazo_resposta").value;
            const descricao = document.getElementById("descricao").value;

            // Valida os campos
            if (!empresa || !email || !descricao) {
                alert("Por favor, preencha todos os campos obrigatórios!");
                return;
            }

            // Cria uma nova instância do jsPDF
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            // Adiciona conteúdo no PDF
            doc.setFont("Arial", "B");
            doc.text("Solicitação de Orçamento", 105, 10, { align: "center" });
            doc.setFont("Arial", "normal");
            
            // Adiciona os dados do formulário
            doc.text("Nome da Empresa: " + empresa, 10, 30);
            doc.text("E-mail para Contato: " + email, 10, 40);
            doc.text("Data Atual: " + dataAtual, 10, 50);
            doc.text("Prazo para Resposta: " + prazoResposta, 10, 60);
            doc.text("Descrição do Orçamento:", 10, 70);

            // Quebra a linha para a descrição, ajustando automaticamente
            let y = 80;
            const maxHeight = 270; // altura máxima para a descrição
            const lineHeight = 10;
            const descriptionLines = doc.splitTextToSize(descricao, 180); // 180 é a largura do texto
            doc.text(descriptionLines, 10, y);

            // Gera o PDF e abre o arquivo no navegador
            doc.save("orcamento_" + empresa + ".pdf");
        }
    </script>
</body>
</html>
